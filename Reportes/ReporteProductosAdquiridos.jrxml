<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.21.3.final using JasperReports Library version 6.21.3-4a3078d20785ebe464f18037d738d12fc98c13cf  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Blank_A4" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="a74e4bb9-9dd8-4100-918a-257f90965879">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="TA PROG3"/>
	<parameter name="idBiblioteca" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new Integer(31)]]></defaultValueExpression>
	</parameter>
	<parameter name="usuario" class="java.lang.String"/>
	<parameter name="moneda_simbolo" class="java.lang.String"/>
	<parameter name="moneda_cambio_dolares" class="java.lang.Double"/>
	<parameter name="SubReporteGrafico" class="java.lang.String"/>
	<parameter name="imagenLogo" class="java.awt.Image"/>
	<parameter name="imagenFooter" class="java.awt.Image"/>
	<queryString language="SQL">
		<![CDATA[SELECT m.id_transaccion, m.fecha_transaccion, m.tipo, m.metodo_pago, pa.id_producto_adquirido, pa.fecha_adquisicion, pa.fecha_ejecucion, pa.tiempo_uso, pa.actualizado,
    pa.oculto, pa.fid_biblioteca, p.id_producto, p.titulo, p.fecha_publicacion, p.precio, p.descripcion, p.espacio_disco, p.logo_url, p.portada_url,
    p.tipo_producto, j.requisitos_minimos, j.requisitos_recomendados, j.multijugador,
    bs.artista, bs.compositor, bs.duracion, s.requisitos, s.licencia, pr.id_proveedor, pr.razon_social, pr.activo as proveedor_activo, pa.fid_biblioteca as id_biblioteca
    FROM ProductoAdquirido pa
    INNER JOIN Producto p ON p.id_producto = pa.fid_producto
    LEFT JOIN Juego j ON p.id_producto = j.id_juego
    LEFT JOIN BandaSonora bs ON p.id_producto = bs.id_banda_sonora
    LEFT JOIN Software s ON p.id_producto = s.id_software
    INNER JOIN Proveedor pr ON pr.id_proveedor = p.fid_proveedor
    INNER JOIN Movimiento m ON pa.fid_movimiento = m.id_movimiento
    INNER JOIN Biblioteca b ON b.id_biblioteca = pa.fid_biblioteca
    WHERE p.activo = 1 and  b.id_biblioteca = $P{idBiblioteca}   ORDER BY pa.fid_movimiento ASC]]>
	</queryString>
	<field name="id_transaccion" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="id_transaccion"/>
		<property name="com.jaspersoft.studio.field.label" value="id_transaccion"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Movimiento"/>
	</field>
	<field name="fecha_transaccion" class="java.sql.Date">
		<property name="com.jaspersoft.studio.field.name" value="fecha_transaccion"/>
		<property name="com.jaspersoft.studio.field.label" value="fecha_transaccion"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Movimiento"/>
	</field>
	<field name="tipo" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="tipo"/>
		<property name="com.jaspersoft.studio.field.label" value="tipo"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Movimiento"/>
	</field>
	<field name="metodo_pago" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="metodo_pago"/>
		<property name="com.jaspersoft.studio.field.label" value="metodo_pago"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Movimiento"/>
	</field>
	<field name="id_producto_adquirido" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="id_producto_adquirido"/>
		<property name="com.jaspersoft.studio.field.label" value="id_producto_adquirido"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="ProductoAdquirido"/>
	</field>
	<field name="fecha_adquisicion" class="java.sql.Date">
		<property name="com.jaspersoft.studio.field.name" value="fecha_adquisicion"/>
		<property name="com.jaspersoft.studio.field.label" value="fecha_adquisicion"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="ProductoAdquirido"/>
	</field>
	<field name="fecha_ejecucion" class="java.sql.Date">
		<property name="com.jaspersoft.studio.field.name" value="fecha_ejecucion"/>
		<property name="com.jaspersoft.studio.field.label" value="fecha_ejecucion"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="ProductoAdquirido"/>
	</field>
	<field name="tiempo_uso" class="java.sql.Time">
		<property name="com.jaspersoft.studio.field.name" value="tiempo_uso"/>
		<property name="com.jaspersoft.studio.field.label" value="tiempo_uso"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="ProductoAdquirido"/>
	</field>
	<field name="actualizado" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="actualizado"/>
		<property name="com.jaspersoft.studio.field.label" value="actualizado"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="ProductoAdquirido"/>
	</field>
	<field name="oculto" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="oculto"/>
		<property name="com.jaspersoft.studio.field.label" value="oculto"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="ProductoAdquirido"/>
	</field>
	<field name="fid_biblioteca" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="fid_biblioteca"/>
		<property name="com.jaspersoft.studio.field.label" value="fid_biblioteca"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="ProductoAdquirido"/>
	</field>
	<field name="id_producto" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="id_producto"/>
		<property name="com.jaspersoft.studio.field.label" value="id_producto"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Producto"/>
	</field>
	<field name="titulo" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="titulo"/>
		<property name="com.jaspersoft.studio.field.label" value="titulo"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Producto"/>
	</field>
	<field name="fecha_publicacion" class="java.sql.Date">
		<property name="com.jaspersoft.studio.field.name" value="fecha_publicacion"/>
		<property name="com.jaspersoft.studio.field.label" value="fecha_publicacion"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Producto"/>
	</field>
	<field name="precio" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="precio"/>
		<property name="com.jaspersoft.studio.field.label" value="precio"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Producto"/>
	</field>
	<field name="descripcion" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="descripcion"/>
		<property name="com.jaspersoft.studio.field.label" value="descripcion"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Producto"/>
	</field>
	<field name="espacio_disco" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="espacio_disco"/>
		<property name="com.jaspersoft.studio.field.label" value="espacio_disco"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Producto"/>
	</field>
	<field name="logo_url" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="logo_url"/>
		<property name="com.jaspersoft.studio.field.label" value="logo_url"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Producto"/>
	</field>
	<field name="portada_url" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="portada_url"/>
		<property name="com.jaspersoft.studio.field.label" value="portada_url"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Producto"/>
	</field>
	<field name="tipo_producto" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="tipo_producto"/>
		<property name="com.jaspersoft.studio.field.label" value="tipo_producto"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Producto"/>
	</field>
	<field name="requisitos_minimos" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="requisitos_minimos"/>
		<property name="com.jaspersoft.studio.field.label" value="requisitos_minimos"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Juego"/>
	</field>
	<field name="requisitos_recomendados" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="requisitos_recomendados"/>
		<property name="com.jaspersoft.studio.field.label" value="requisitos_recomendados"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Juego"/>
	</field>
	<field name="multijugador" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="multijugador"/>
		<property name="com.jaspersoft.studio.field.label" value="multijugador"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Juego"/>
	</field>
	<field name="artista" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="artista"/>
		<property name="com.jaspersoft.studio.field.label" value="artista"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="BandaSonora"/>
	</field>
	<field name="compositor" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="compositor"/>
		<property name="com.jaspersoft.studio.field.label" value="compositor"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="BandaSonora"/>
	</field>
	<field name="duracion" class="java.sql.Time">
		<property name="com.jaspersoft.studio.field.name" value="duracion"/>
		<property name="com.jaspersoft.studio.field.label" value="duracion"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="BandaSonora"/>
	</field>
	<field name="requisitos" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="requisitos"/>
		<property name="com.jaspersoft.studio.field.label" value="requisitos"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Software"/>
	</field>
	<field name="licencia" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="licencia"/>
		<property name="com.jaspersoft.studio.field.label" value="licencia"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Software"/>
	</field>
	<field name="id_proveedor" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="id_proveedor"/>
		<property name="com.jaspersoft.studio.field.label" value="id_proveedor"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Proveedor"/>
	</field>
	<field name="razon_social" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="razon_social"/>
		<property name="com.jaspersoft.studio.field.label" value="razon_social"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Proveedor"/>
	</field>
	<field name="proveedor_activo" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="activo"/>
		<property name="com.jaspersoft.studio.field.label" value="proveedor_activo"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Proveedor"/>
	</field>
	<field name="id_biblioteca" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="fid_biblioteca"/>
		<property name="com.jaspersoft.studio.field.label" value="id_biblioteca"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="ProductoAdquirido"/>
	</field>
	<variable name="montoTotal" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{precio}.doubleValue()*$P{moneda_cambio_dolares}]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="60" splitType="Stretch">
			<staticText>
				<reportElement x="72" y="20" width="410" height="30" uuid="ff604776-4ac2-48c2-a9c7-b5f38c5976df"/>
				<textElement textAlignment="Center">
					<font fontName="Courier New" size="20" isBold="true" isUnderline="true"/>
				</textElement>
				<text><![CDATA[REPORTE DE PRODUCTOS ADQUIRIDOS]]></text>
			</staticText>
			<image>
				<reportElement mode="Opaque" x="500" y="0" width="50" height="50" forecolor="#FFFFFF" uuid="1442fc67-cc26-4645-8118-b8dff618eb62"/>
				<imageExpression><![CDATA[$P{imagenLogo}]]></imageExpression>
			</image>
			<image>
				<reportElement mode="Opaque" x="0" y="0" width="72" height="30" forecolor="#FFFFFF" uuid="ffa0a754-39e9-4116-83f1-631d466a9773"/>
				<imageExpression><![CDATA[$P{imagenFooter}]]></imageExpression>
			</image>
		</band>
	</title>
	<pageHeader>
		<band height="61" splitType="Stretch">
			<staticText>
				<reportElement positionType="FixRelativeToBottom" x="2" y="40" width="198" height="20" uuid="09ff216d-58b0-4da9-bfd7-d666376f7ccb"/>
				<textElement>
					<font fontName="Times New Roman" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Fecha de Generación del Reporte: ]]></text>
			</staticText>
			<textField pattern="dd/MM/yyyy">
				<reportElement positionType="FixRelativeToBottom" x="180" y="40" width="154" height="20" uuid="f3953f0d-22bd-4d50-8b32-a44557c834bf"/>
				<textElement>
					<font fontName="Courier New" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement positionType="FixRelativeToBottom" x="2" y="10" width="80" height="20" uuid="82490d5f-885b-45e9-bb10-9a2fa5361942"/>
				<textElement>
					<font fontName="Times New Roman" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Usuario:]]></text>
			</staticText>
			<textField>
				<reportElement positionType="FixRelativeToBottom" x="50" y="10" width="100" height="20" uuid="262cd72b-8fc1-4bff-a2cf-0e7c33954f4c"/>
				<textElement>
					<font fontName="Courier New" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{usuario}]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement x="280" y="0" width="260" height="40" uuid="5fb5b392-8988-4471-a17c-b74e932fbafa"/>
				<subreportParameter name="idBiblioteca">
					<subreportParameterExpression><![CDATA[$P{idBiblioteca}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SubReporteGrafico}]]></subreportExpression>
			</subreport>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="41" splitType="Stretch">
			<line>
				<reportElement x="-20" y="0" width="595" height="1" uuid="c3e60bd0-e1ac-45cd-b08b-3544511f13f2">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
			</line>
			<staticText>
				<reportElement x="115" y="9" width="70" height="30" uuid="5120aa13-1646-4d73-aa2d-70d829db298b">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="c8c5be8c-2fdd-4fb3-a575-54ad8c2b8b87"/>
				</reportElement>
				<textElement textAlignment="Center">
					<font fontName="Times New Roman" isBold="true" isUnderline="false"/>
				</textElement>
				<text><![CDATA[CÓDIGO]]></text>
			</staticText>
			<staticText>
				<reportElement x="212" y="9" width="130" height="30" uuid="7e823b96-0f5b-4a74-ae8f-05068158128c">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="d926ad2b-8190-4777-aa4e-43195375a883"/>
				</reportElement>
				<textElement>
					<font fontName="Times New Roman" isBold="true" isUnderline="false"/>
				</textElement>
				<text><![CDATA[NOMBRE]]></text>
			</staticText>
			<staticText>
				<reportElement x="-15" y="9" width="130" height="30" uuid="8722464f-788c-4b7b-87ac-b32583636b4b">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="c45d8f68-f6be-41e0-af56-0898e2ae7eba"/>
				</reportElement>
				<textElement textAlignment="Center">
					<font fontName="Times New Roman" isBold="true" isUnderline="false"/>
				</textElement>
				<text><![CDATA[FECHA DE COMPRA ]]></text>
			</staticText>
			<staticText>
				<reportElement x="470" y="9" width="70" height="30" uuid="1d650e5c-5cf7-40eb-90a7-f48413f500a7">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="8a84f829-13ec-419c-8d57-baccaa2ebd71"/>
				</reportElement>
				<textElement textAlignment="Center">
					<font fontName="Times New Roman" isBold="true" isUnderline="false"/>
				</textElement>
				<text><![CDATA[PRECIO]]></text>
			</staticText>
			<staticText>
				<reportElement x="360" y="9" width="111" height="30" uuid="3605fb13-dc3e-49ce-9662-c7507d344d91">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="13c1e6f8-571e-4234-abca-76bb22208673"/>
				</reportElement>
				<textElement textAlignment="Left">
					<font fontName="Times New Roman" isBold="true" isItalic="false"/>
				</textElement>
				<text><![CDATA[PROVEEDOR]]></text>
			</staticText>
			<textField>
				<reportElement x="530" y="9" width="100" height="30" uuid="dd7b675c-3721-4fd1-ad83-a1272f6d376e"/>
				<textElement>
					<font fontName="Times New Roman" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{moneda_simbolo}]]></textFieldExpression>
			</textField>
		</band>
	</columnHeader>
	<detail>
		<band height="42" splitType="Stretch">
			<textField>
				<reportElement x="110" y="0" width="80" height="30" uuid="163bd6b8-3b06-40ff-b790-021044931ef4">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="c8c5be8c-2fdd-4fb3-a575-54ad8c2b8b87"/>
				</reportElement>
				<textElement textAlignment="Center">
					<font fontName="Times New Roman"/>
				</textElement>
				<textFieldExpression><![CDATA[String.format("%04d", $F{id_producto})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="212" y="0" width="130" height="30" uuid="dc0e6d49-a203-4cc4-b5b3-79227dec14a2">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="d926ad2b-8190-4777-aa4e-43195375a883"/>
				</reportElement>
				<textElement>
					<font fontName="Times New Roman"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{titulo}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="-5" y="-2" width="110" height="30" uuid="7e4844f1-186c-4ee8-9d11-c57a7ec2c14e">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="c45d8f68-f6be-41e0-af56-0898e2ae7eba"/>
				</reportElement>
				<textElement textAlignment="Center">
					<font fontName="Times New Roman"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{fecha_adquisicion}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00#;(#,##0.00#-)">
				<reportElement x="462" y="0" width="78" height="30" uuid="27d46a67-eff0-44a3-9225-3303bc0f3643">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="8a84f829-13ec-419c-8d57-baccaa2ebd71"/>
				</reportElement>
				<textElement textAlignment="Right">
					<font fontName="Times New Roman"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{precio}.doubleValue()*$P{moneda_cambio_dolares}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="360" y="0" width="100" height="30" uuid="d328d43c-e5e9-4d0c-908c-6826029245d2">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="13c1e6f8-571e-4234-abca-76bb22208673"/>
				</reportElement>
				<textElement>
					<font fontName="Times New Roman"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{razon_social}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="30" splitType="Stretch">
			<textField pattern="#,##0.00#;(#,##0.00#-)">
				<reportElement x="440" y="0" width="100" height="30" uuid="abde63d2-3f85-4437-8167-f8b5b4a7da2d"/>
				<textElement textAlignment="Right">
					<font fontName="Times New Roman" size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{moneda_simbolo} + String.format("%.2f", $V{montoTotal})]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="-20" y="0" width="595" height="1" uuid="b1dec948-7743-414c-886a-f831a7a2fb9b">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
			</line>
			<staticText>
				<reportElement x="400" y="0" width="60" height="30" uuid="f0d8c677-143b-49ba-8bf4-a06910eb7b3f"/>
				<textElement>
					<font fontName="Times New Roman" size="13"/>
				</textElement>
				<text><![CDATA[Total:]]></text>
			</staticText>
		</band>
	</columnFooter>
	<pageFooter>
		<band height="33" splitType="Stretch">
			<staticText>
				<reportElement x="-2" y="0" width="267" height="30" uuid="1540c045-9041-444d-be8e-19e1e111a204"/>
				<textElement verticalAlignment="Bottom">
					<font fontName="timesNew" size="9"/>
				</textElement>
				<text><![CDATA[© 2024 Volba Software Group, Inc. All rights reserved]]></text>
			</staticText>
		</band>
	</pageFooter>
</jasperReport>
